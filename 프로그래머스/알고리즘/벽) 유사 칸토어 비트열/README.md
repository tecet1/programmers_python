
## ë¬¸ì œë§í¬
[ìœ ì‚¬ ì¹¸í† ì–´ ë¹„íŠ¸ì—´](https://school.programmers.co.kr/learn/courses/30/lessons/148652)
## ì²«ë²ˆì§¸ ì‹œë„
```
def solution(n, l, r):
    answer = 0
    '''
    êµ¬ê°„ì˜ í¬ê¸°ëŠ” 5**(n-1)ì´ê³ , ê°¯ìˆ˜ëŠ” ì´ 5ê°œì´ë‹¤.
    ë¨¼ì € l,rì„ í†µí•´ í¬í•¨ì‹œí‚¬ êµ¬ê°„ë“¤ì„ íŒë³„í•œë‹¤.
    ê°ê°ì„ 5**(n-1)ë¡œ ë‚˜ëˆˆ ëª«ì´ ê³§ ê·¸ ê°’ì´ í¬í•¨ëœ êµ¬ê°„ì´ë‹¤.
    ì˜ˆë¥¼ ë“¤ì–´ ì§€ê¸ˆ ì˜ˆì œì— ë‚˜ì˜¨ 2,4,17ì— ëŒ€í•´ì„œ, 4ë¥¼ 5ë¡œ ë‚˜ëˆˆ ëª«ì€ 0, 17ì€ 3ì´ë‹¤.
    ê·¸ëŸ¼ 1ë²ˆì§¸ êµ¬ê°„ë¶€í„° 4ë²ˆì§¸ êµ¬ê°„ê¹Œì§€ì˜ ì›ì†Œë“¤ì´ í¬í•¨ë˜ëŠ” ê²ƒì´ë‹¤.
    ì´ë•Œ, ì™„ì „ í¬í•¨ êµ¬ê°„ê³¼ ì™„ì „ ë°°ì œ êµ¬ê°„ì„ ì•Œ ìˆ˜ ìžˆë‹¤.
    ìœ„ ê²½ìš°, ì™„ì „ í¬í•¨ êµ¬ê°„ì€ 2ë²ˆì§¸ì™€ 3ë²ˆì§¸ì´ê³ , ì™„ì „ ë°°ì œ êµ¬ê°„ì€ 5ë²ˆì§¸ êµ¬ê°„ì´ë‹¤.
    í•œê°€ì§€ ìœ ë…í•´ì•¼ í•  ê²ƒì€, n>=1ì¼ë•Œ, 3ë²ˆì§¸ êµ¬ê°„ì€ ëª¨ë‘ 0ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìžˆê¸°ì— ê²°ê³¼ê°’ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤.
    ë”°ë¼ì„œ lì´ë‚˜ rì´ 3ë²ˆì§¸ êµ¬ê°„ì— í¬í•¨ë˜ì–´ ìžˆëŠ” ê²½ìš° ì™„ì „ ë°°ì œ êµ¬ê°„ìœ¼ë¡œ ì·¨ê¸‰í•  ìˆ˜ ìžˆë‹¤.
    ê·¸ëŸ°ë° ì½”ë“œë¡œ êµ¬í˜„í•¨ì— ìžˆì–´ì„œ ì´ëŸ° edge caseì— ëŒ€í•´ì„œ ì¼ì¼ížˆ ì ìš©í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì¸ê°€ì— ëŒ€í•´ì„œëŠ” ì•„ì§ ìž˜ ëª¨ë¥´ê² ë‹¤.
    ì¼ë‹¨ ì í™”ì‹ì„ êµ¬ì„±í•˜ê³  ìž¬ê·€ê³¼ì •ì—ì„œ 3ë²ˆì§¸ êµ¬ê°„ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ë‚˜ì„ ìˆ˜ë„ ìžˆë‹¤.
    ì–´ì°Œëê±´, í¬í•¨í•  êµ¬ê°„ì„ ì•Œì•„ë‚¸ ë’¤, í˜¸ì¶œí•  í•¨ìˆ˜ì˜ ì¸ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì„ ê²ƒì´ë‹¤: 
    (n-1,l,lì´ í¬í•¨ëœ êµ¬ê°„ì˜ ì˜¤ë¥¸ìª½ ë),(n-1,rì´ í¬í•¨ëœ êµ¬ê°„ì˜ ì™¼ìª½ ë,r)
    '''
    left_section = l//(5**(n-1))
    right_section = r//(5**(n-1))
    
    
    answer = solution(n-1,l,left_section*(5**(n-1))-1) + solution(n-1,right_section*(5**(n-1))-1,r)
    return answer
```
ë²½ëŠë‚Œ.
ë¶„í•  ì •ë³µ/ìž¬ê·€ëŠ” ì§„ì§œ ë§Žì´ í’€ì–´ë´ì•¼ê² ë‹¤ê³  ëŠê¼ˆìŒ.
aiê°€ ì œì‹œí•œ ë°©í–¥ì„±ì„ êµ¬í˜„í•˜ëŠ” ê²ƒë„ ëª»í•˜ê² ë‹¤.
aiê°€ ì§  ì½”ë“œë¥¼ ë°˜ë³µí•´ì„œ ì‚´íŽ´ë´ì•¼ê² ë‹¤.

----------
## ì´í•˜ ai ì½”ë”© ë§¤ë“œë¬´ë¹„

ë²½ì— ë§‰ížŒ ëŠë‚Œì´ ë“œì‹¤ ë•ŒëŠ” ì½”ë“œë¥¼ ì§ì ‘ ë³´ë©° ì›ë¦¬ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ ê°€ìž¥ ì¢‹ì€ ë°©ë²•ìž…ë‹ˆë‹¤. ìœ ì‚¬ ì¹¸í† ì–´ ë¹„íŠ¸ì—´ ë¬¸ì œì˜ í•µì‹¬ ì•„ì´ë””ì–´ì¸ **ìž¬ê·€ì  ë¶„í•  ì •ë³µ (Divide and Conquer)**ì„ í™œìš©í•˜ì—¬ 1ì˜ ê°œìˆ˜ë¥¼ ì„¸ëŠ” í•¨ìˆ˜ `count_upto`ë¥¼ êµ¬í˜„í•˜ê² ìŠµë‹ˆë‹¤.

ì´ ë°©ì‹ì€ $N$ë²ˆì§¸ ì—´ì—ì„œ ì¸ë±ìŠ¤ **$0$ë¶€í„° $K$ê¹Œì§€**ì˜ 1ì˜ ê°œìˆ˜ë¥¼ êµ¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“  í›„, ìµœì¢…ì ìœ¼ë¡œ $\text{count_upto}(N, R) - \text{count_upto}(N, L-1)$ë¡œ ë‹µì„ êµ¬í•˜ëŠ” ë°©ë²•ìž…ë‹ˆë‹¤.

----------

## ðŸ’» ìœ ì‚¬ ì¹¸í† ì–´ ë¹„íŠ¸ì—´ 1ì˜ ê°œìˆ˜ ê³„ì‚° ì½”ë“œ

### 1. ðŸ” í•µì‹¬ ìž¬ê·€ í•¨ìˆ˜: `count_upto(n, k)`

ì´ í•¨ìˆ˜ëŠ” $N$ë²ˆì§¸ ì—´ì—ì„œ **ì¸ë±ìŠ¤ $0$ë¶€í„° $K$ê¹Œì§€**ì˜ 1ì˜ ê°œìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.

Python

```
def count_upto(n, k):
    """
    në²ˆì§¸ ì—´ì—ì„œ 0ë¶€í„° kë²ˆì§¸ ì¸ë±ìŠ¤(0-based)ê¹Œì§€ì˜ 1ì˜ ê°œìˆ˜ë¥¼ êµ¬í•˜ëŠ” ìž¬ê·€ í•¨ìˆ˜.
    """
    if n == 0:
        # ê¸°ì € ì¡°ê±´: 0ë²ˆì§¸ ì—´ì€ '1' í•˜ë‚˜ë¿ìž…ë‹ˆë‹¤.
        return 1
    
    # 1. ë¸”ë¡ í¬ê¸° ë° 1ì˜ ê°œìˆ˜ ê³„ì‚°
    # në²ˆì§¸ ì—´ì€ 5^(n-1) í¬ê¸°ì˜ ë¸”ë¡ 5ê°œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.
    block_size = 5**(n - 1)
    ones_in_block = 4**(n - 1)  # 1, 2, 4, 5ë²ˆì§¸ ë¸”ë¡ ê°ê°ì´ ê°€ì§€ëŠ” 1ì˜ ê°œìˆ˜
    
    count = 0  # í˜„ìž¬ê¹Œì§€ ëˆ„ì ëœ 1ì˜ ê°œìˆ˜
    
    # 2. kê°€ ì†í•œ ë¸”ë¡ì˜ ì¸ë±ìŠ¤ë¥¼ ì°¾ìŠµë‹ˆë‹¤ (0, 1, 2, 3, 4)
    # këŠ” në²ˆì§¸ ì—´ ë‚´ì˜ ì¸ë±ìŠ¤ìž…ë‹ˆë‹¤.
    block_index = k // block_size
    
    # 3. kê°€ ì†í•œ ë¸”ë¡ ì´ì „ì˜ ëª¨ë“  ë¸”ë¡ ì²˜ë¦¬
    for i in range(block_index):
        if i == 2:
            # ì„¸ ë²ˆì§¸ ë¸”ë¡(i=2)ì€ ëª¨ë‘ 0ì´ë¯€ë¡œ, 1ì˜ ê°œìˆ˜ëŠ” 0ìž…ë‹ˆë‹¤.
            continue
        else:
            # ë‚˜ë¨¸ì§€ ë¸”ë¡(i=0, 1, 3, 4)ì€ ëª¨ë‘ ones_in_blockë§Œí¼ì˜ 1ì„ ê°€ì§‘ë‹ˆë‹¤.
            count += ones_in_block
    
    # 4. kê°€ ì†í•œ ë¸”ë¡ (block_index) ì²˜ë¦¬
    
    if block_index == 2:
        # kê°€ ì„¸ ë²ˆì§¸ ë¸”ë¡ì— ì†í•˜ë©´, ì´ ë¸”ë¡ì€ 0ìœ¼ë¡œë§Œ ì´ë£¨ì–´ì ¸ ìžˆìœ¼ë¯€ë¡œ 0ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
        # ì´ì „ ë¸”ë¡ì—ì„œ ì´ë¯¸ countê°€ ëˆ„ì ë˜ì—ˆì„ ìˆ˜ ìžˆìœ¼ë¯€ë¡œ ëˆ„ì ëœ countë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
        return count
        
    else:
        # kê°€ 1, 2, 4, 5ë²ˆì§¸ ë¸”ë¡ì— ì†í•˜ëŠ” ê²½ìš°, ìž¬ê·€ì ìœ¼ë¡œ íƒìƒ‰í•©ë‹ˆë‹¤.
        # k'ëŠ” í˜„ìž¬ ë¸”ë¡ ë‚´ì—ì„œì˜ ìƒëŒ€ì ì¸ ì¸ë±ìŠ¤ìž…ë‹ˆë‹¤.
        k_prime = k % block_size
        
        # ìž¬ê·€ í˜¸ì¶œ: n-1ë²ˆì§¸ ì—´ì˜ [0, k'] êµ¬ê°„ ë‚´ 1ì˜ ê°œìˆ˜ë¥¼ êµ¬í•©ë‹ˆë‹¤.
        count += count_upto(n - 1, k_prime)
        
    return count


```

### 2. ðŸ ìµœì¢… `solution(n, l, r)` í•¨ìˆ˜

ì£¼ì–´ì§„ $L$ê³¼ $R$ì´ **1-based index (1ë¶€í„° ì‹œìž‘)**ë¼ê³  ê°€ì •í•˜ê³ , 0-based indexë¡œ ë³€í™˜í•˜ì—¬ `count_upto` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.

Python

```
def solution(n, l, r):
    # Lê³¼ Rì´ 1ë¶€í„° ì‹œìž‘í•˜ëŠ” ì¸ë±ìŠ¤ë¼ê³  ê°€ì •í•˜ê³ , 0-based ì¸ë±ìŠ¤ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
    # Lì„ í¬í•¨í•˜ê³  (íêµ¬ê°„), Rì„ í¬í•¨í•©ë‹ˆë‹¤.
    # ê²°ê³¼ = [0, R] êµ¬ê°„ì˜ 1ì˜ ê°œìˆ˜ - [0, L-1] êµ¬ê°„ì˜ 1ì˜ ê°œìˆ˜
    
    count_r = count_upto(n, r - 1)
    count_l_minus_1 = count_upto(n, l - 2) if l > 1 else 0
    
    answer = count_r - count_l_minus_1
    return answer


```

----------

## ðŸŒŸ ì½”ë“œ í•´ì„ ë° ë™ìž‘ ì›ë¦¬

### 1. 0-based ì¸ë±ì‹±

ë¬¸ì œì—ì„œ ì£¼ì–´ì§„ $L, R$ì€ 1-basedìž…ë‹ˆë‹¤. ë”°ë¼ì„œ:

-   $R$ê¹Œì§€ì˜ í•©: $R$ë²ˆì§¸ ì›ì†Œì˜ ì¸ë±ìŠ¤ëŠ” $R-1$ì´ë¯€ë¡œ `count_upto(n, r - 1)`ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.
    
-   $L$ ì§ì „ê¹Œì§€ì˜ í•©: $L-1$ë²ˆì§¸ ì›ì†Œì˜ ì¸ë±ìŠ¤ëŠ” $L-2$ì´ë¯€ë¡œ `count_upto(n, l - 2)`ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
    

### 2. ìž¬ê·€ ë¶„í•´

ì˜ˆë¥¼ ë“¤ì–´ $\text{count_upto}(3, K)$ë¥¼ ê³„ì‚°í•œë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤.

1.  **Block Size:** $5^{3-1} = 25$. ì—´ì€ 25í¬ê¸°ì˜ ë¸”ë¡ 5ê°œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.
    
2.  $K$ê°€ 80ì¼ ë•Œ, $\text{block\_index} = 80 // 25 = 3$ (ë„¤ ë²ˆì§¸ ë¸”ë¡)
    
3.  **ë°˜ë³µë¬¸ (i=0, 1):** ì²« ë²ˆì§¸ì™€ ë‘ ë²ˆì§¸ ë¸”ë¡(i=0, 1)ì€ $4^{3-1} = 16$ê°œì˜ 1ì„ ê°€ì§‘ë‹ˆë‹¤. $\text{count} += 16 \times 2 = 32$
    
4.  **ë°˜ë³µë¬¸ (i=2):** ì„¸ ë²ˆì§¸ ë¸”ë¡(i=2)ì€ ê±´ë„ˆëœë‹ˆë‹¤.
    
5.  **kê°€ ì†í•œ ë¸”ë¡ (i=3):**
    
    -   $\text{k\_prime} = 80 \pmod{25} = 5$
        
    -   $\text{count}$ì— $\text{count_upto}(2, 5)$ë¥¼ ë”í•©ë‹ˆë‹¤.
        
6.  **ë‹¤ìŒ ìž¬ê·€:** $\text{count_upto}(2, 5)$ëŠ” ë‹¤ì‹œ $5^{2-1}=5$ í¬ê¸°ì˜ ë¸”ë¡ 5ê°œë¡œ ë¶„í•´ë˜ì–´, 5ê°€ ì†í•œ ë¸”ë¡ê¹Œì§€ì˜ 1ì˜ ê°œìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. ì´ ê³¼ì •ì„ $N=0$ì´ ë  ë•Œê¹Œì§€ ë°˜ë³µí•˜ë©° ì •í™•í•œ 1ì˜ ê°œìˆ˜ë¥¼ ëˆ„ì í•©ë‹ˆë‹¤.
## ðŸ’¡ìˆ˜ì •ëœ ì½”ë“œ
```
def count_upto(n, k):
    """
    në²ˆì§¸ ì—´ì—ì„œ 0ë¶€í„° kë²ˆì§¸ ì¸ë±ìŠ¤(0-based)ê¹Œì§€ì˜ 1ì˜ ê°œìˆ˜ë¥¼ êµ¬í•˜ëŠ” ìž¬ê·€ í•¨ìˆ˜.
    """
    if n == 0:
        # ê¸°ì € ì¡°ê±´: 0ë²ˆì§¸ ì—´ì€ '1' í•˜ë‚˜ë¿ìž…ë‹ˆë‹¤.
        return 1
    
    # 1. ë¸”ë¡ í¬ê¸° ë° 1ì˜ ê°œìˆ˜ ê³„ì‚°
    # në²ˆì§¸ ì—´ì€ 5^(n-1) í¬ê¸°ì˜ ë¸”ë¡ 5ê°œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.
    block_size = 5**(n - 1)
    ones_in_block = 4**(n - 1)  # 1, 2, 4, 5ë²ˆì§¸ ë¸”ë¡ ê°ê°ì´ ê°€ì§€ëŠ” 1ì˜ ê°œìˆ˜
    
    count = 0  # í˜„ìž¬ê¹Œì§€ ëˆ„ì ëœ 1ì˜ ê°œìˆ˜
    
    # 2. kê°€ ì†í•œ ë¸”ë¡ì˜ ì¸ë±ìŠ¤ë¥¼ ì°¾ìŠµë‹ˆë‹¤ (0, 1, 2, 3, 4)
    # këŠ” në²ˆì§¸ ì—´ ë‚´ì˜ ì¸ë±ìŠ¤ìž…ë‹ˆë‹¤.
    block_index = k // block_size
    
    # 3. kê°€ ì†í•œ ë¸”ë¡ ì´ì „ì˜ ëª¨ë“  ë¸”ë¡ ì²˜ë¦¬
    for i in range(block_index):
        if i == 2:
            # ì„¸ ë²ˆì§¸ ë¸”ë¡(i=2)ì€ ëª¨ë‘ 0ì´ë¯€ë¡œ, 1ì˜ ê°œìˆ˜ëŠ” 0ìž…ë‹ˆë‹¤.
            continue
        else:
            # ë‚˜ë¨¸ì§€ ë¸”ë¡(i=0, 1, 3, 4)ì€ ëª¨ë‘ ones_in_blockë§Œí¼ì˜ 1ì„ ê°€ì§‘ë‹ˆë‹¤.
            count += ones_in_block
    
    # 4. kê°€ ì†í•œ ë¸”ë¡ (block_index) ì²˜ë¦¬
    
    if block_index == 2:
        # kê°€ ì„¸ ë²ˆì§¸ ë¸”ë¡ì— ì†í•˜ë©´, ì´ ë¸”ë¡ì€ 0ìœ¼ë¡œë§Œ ì´ë£¨ì–´ì ¸ ìžˆìœ¼ë¯€ë¡œ 0ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
        # ì´ì „ ë¸”ë¡ì—ì„œ ì´ë¯¸ countê°€ ëˆ„ì ë˜ì—ˆì„ ìˆ˜ ìžˆìœ¼ë¯€ë¡œ ëˆ„ì ëœ countë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
        return count
        
    else:
        # kê°€ 1, 2, 4, 5ë²ˆì§¸ ë¸”ë¡ì— ì†í•˜ëŠ” ê²½ìš°, ìž¬ê·€ì ìœ¼ë¡œ íƒìƒ‰í•©ë‹ˆë‹¤.
        # k'ëŠ” í˜„ìž¬ ë¸”ë¡ ë‚´ì—ì„œì˜ ìƒëŒ€ì ì¸ ì¸ë±ìŠ¤ìž…ë‹ˆë‹¤.
        k_prime = k % block_size
        
        # ìž¬ê·€ í˜¸ì¶œ: n-1ë²ˆì§¸ ì—´ì˜ [0, k'] êµ¬ê°„ ë‚´ 1ì˜ ê°œìˆ˜ë¥¼ êµ¬í•©ë‹ˆë‹¤.
        count += count_upto(n - 1, k_prime)
        
    return count

def solution(n, l, r):
    # Lê³¼ Rì´ 1ë¶€í„° ì‹œìž‘í•˜ëŠ” ì¸ë±ìŠ¤ë¼ê³  ê°€ì •í•˜ê³ , 0-based ì¸ë±ìŠ¤ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
    # Lì„ í¬í•¨í•˜ê³  (íêµ¬ê°„), Rì„ í¬í•¨í•©ë‹ˆë‹¤.
    # ê²°ê³¼ = [0, R] êµ¬ê°„ì˜ 1ì˜ ê°œìˆ˜ - [0, L-1] êµ¬ê°„ì˜ 1ì˜ ê°œìˆ˜
    
    count_r = count_upto(n, r - 1)
    count_l_minus_1 = count_upto(n, l - 2) if l > 1 else 0
    
    answer = count_r - count_l_minus_1
    return answer
```

## ë¶„ì„
### ë¡œì§
ë¶„í• ì •ë³µì´ë¼ëŠ” í‚¤ì›Œë“œë¥¼ ì•Œê³ ë‚˜ì„œë„ ì‚¬ì‹¤ ë‹¤ë£¨ê¸° ì‰½ì§€ ì•Šì•˜ìŒ
ë­˜ ìž¬ê·€ë¥¼ ëŒë ¤ì•¼í•˜ëŠ”ì§€, 'ê¸°ì € ì¡°ê±´'ì„ ì–´ë–»ê²Œ ì„¤ì •í•´ì•¼ë˜ëŠ”ì§€ ë“±ë“±.
ë©”íƒ€ì¸ì§€ê°€ ì „í˜€ ì—†ëŠ” ë¬¸ì œì˜€ìŒ.

### ë¬¸ë²•
í•´ë‹¹ ì‚¬í•­ ì—†ìŒ.   
> Written with [StackEdit](https://stackedit.io/).
